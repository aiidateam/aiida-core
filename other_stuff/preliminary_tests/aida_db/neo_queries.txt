
# Select nodes by type
START calc=node:all(type = 'Calculation')
RETURN calc

# Filter basic properties of the nodes
START calc=node:all(type = 'Calculation')
WHERE calc.machine =~ 'bellatrix'
RETURN calc

# Filter results type from calculation
START res=node:all(type = 'Results')
MATCH res-[:OUTPUT]->calc
WHERE calc.type = "Calculation" AND res.content =~ "energy"
RETURN res.energy, calc.machine

# Filter starting configuration from results value
START res=node:all(type = 'Results')
MATCH res-[:OUTPUT]->calc<-[:INPUT]-conf
WHERE calc.machine =~ "bellatrix" AND res.content =~ "energy" AND res.energy < -10
RETURN res.energy, conf.nat

# Filter starting data from final results (any path, any side)
START data=node:all(type = 'Data:xyz')
MATCH data-[*]-out
WHERE out.type = 'Results' AND out.content="energy" AND out.energy < -10
RETURN data.xyz, out.energy

# Filter starting data from final results with specific internode condition
START data=node:all(type = 'Data:xyz')
MATCH data-[*]->calc<-[*]-out
WHERE out.type = 'Results' AND out.content="energy" AND out.energy < -3 AND calc.type = 'Calculation' AND calc.machine =~ "aires"
RETURN data.xyz, out.energy, calc.code
