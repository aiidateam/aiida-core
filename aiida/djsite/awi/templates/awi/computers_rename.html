{% extends 'awi/base_ajax.html' %}

{% block subcontent %}
<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	<h4 class="modal-title" id="myModalLabel">Rename computer {{ computer_id }}</h4>
</div>
<div class="modal-body">
	<div class="input-group">
		<input type="text" class="form-control">
		<span class="input-group-btn">
			<button class="btn btn-primary" type="button">Rename</button>
		</span>
	</div>
</div>
<script>
	(function() { /* we need to defer the script since jQuery is not yet loaded at that point of the page */
		var code = function($) { /* this is the jQuery code we need to execute */
			$(document).ready(function(){
				$('#modal-{{ computer_id }} input.form-control').val($('#modal-{{ computer_id }}').attr('data-rename'));
				window.setTimeout(function(){
					$('#modal-{{ computer_id }} input.form-control').select().focus();
				}, 500);
			});
		};
		var timer = function() { /* this is the timer function to defer code execution */
			if (window.jQuery) { /* if jQuery is available, ok lessgo */
				code(window.jQuery);
			} else { /* otherwise we defer for 100 milliseconds */
				window.setTimeout(timer, 100);
			}
		};
		timer();
	})();
</script>
{% endblock %}